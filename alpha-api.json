[
    {
        "method": "GET",
        "path": "/board/get",
        "operations": [
            { "module": "../modules/mongo-lookup", "collection": "Boards" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    },
    {
        "method": "POST",
        "path": "/board/create",
        "operations": [
            { "module": "validation", "schema": "board" },
            { "module": "../modules/mongo-store", "collection": "Boards" },
            { "module": "../modules/response", "status": 201, "body": null }
        ]
    },
    {
        "method": "GET",
        "path": "/user/get",
        "operations": [
            { "module": "../modules/mongo-lookup", "collection": "Users" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    },
    {
    	"method": "POST",
    	"path": "/post/update",
    	"operations": [
    		{ "module": "../modules/mongo-update-one", "collection": "Posts", "query": "update-post.json" },
    		{ "module": "../modules/response", "status": 200, "body": null }
    	]
    },
    {
    	"method": "POST",
    	"path": "/post/delete/:id",
    	"operations": [
    	    {
                "module": "../modules/mongo-delete-one",
                "collection": "Posts",
                "query": "delete-post.json",
                "error": 500,
                "errorMessage": null
            },
    		{ "module": "../modules/response", "status": 200, "body": null }
    	]
    },
    {
        "method": "POST",
        "path": "/user/create/alpha-api",
        "operations": [
            { "module": "validation", "schema": "user" },
            { "module": "../modules/mongo-store", "collection": "Users" },
            { "module": "../modules/response", "status": 201, "body": "response.locals.boards" }
        ]
    },
    {
        "method": "POST",
        "path": "/user/login/alpha-api",
        "operations": [
            { "module": "../modules/mongo-lookup-one", "collection": "Users", "query": "alpha-api-user.json", "error": 401, "errorMessage": "'Der findes ingen bruger med email: ' + request.body.email" },
            { "module": "validation", "schema": "matching-login" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    },
    {
        "method": "POST",
        "path": "/user/facebook/get",
        "operations": [
            { "module": "../modules/facebook-inspect" },
            { "module": "validation", "schema": "facebook-token" },
            { "module": "../modules/mongo-lookup-one", "collection": "Users", "query": "facebook-user.json", "error": 406, "errorMessage": "'Bruger ikke oprettet'" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    },
    {
        "method": "POST",
        "path": "/user/facebook/extend-token",
        "operations": [
            { "module": "../modules/facebook-inspect" },
            { "module": "validation", "schema": "facebook-token" },
            { "module": "../modules/mongo-lookup-one", "collection": "Users", "query": "facebook-user.json", "error": 406, "errorMessage": "'Bruger ikke oprettet'" },
            { "module": "../modules/facebook-extend" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    },
    {
        "method": "POST",
        "path": "/user/facebook/edit",
        "operations": [
            { "module": "../modules/facebook-inspect" },
            { "module": "validation", "schema": "facebook-token" },
            { "module": "../modules/mongo-lookup-one", "collection": "Users", "query": "facebook-user.json", "error": 406, "errorMessage": "'Bruger ikke oprettet'" },
            { "module": "../modules/mongo-update-one", "collection": "Users", "query": "update-user.json" },
            { "module": "../modules/response", "status": 200, "body": "response.locals.boards" }
        ]
    }
]
